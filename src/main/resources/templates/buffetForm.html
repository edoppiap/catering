<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" 
		rel="stylesheet" 
		integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" 
		crossorigin="anonymous">
		<title>Inserimento buffet</title>
	</head>
	<body>
		<div th:replace="page-header :: header"></div>
		
		<div class="container"><h4>Aggiungi un buffet</h4></div>
		
		<form th:action = "@{/buffet}" method = "post" th:object = "${buffet}">
			<div class="container">
				<div class="card col-auto" th:fragment="formBuffet">
					<div class="card-header">
						Buffet
					</div>
					<div class="card-body">
						<div class="row g-3">
							<div class="form-group col-md-4">
								<label for="input1">Nome:</label>
								<input type="text" class="form-control" placeholder="Buffet al rosmarino" th:field = "*{nome}" th:classappend="${#fields.hasErrors('nome') ? 'is-invalid' : ' '}"/>
								<span class="invalid-feedback" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}"></span>
							</div>
							<div class="form-group col-md-8">
								<label for="input2">Descrizione:</label>
								<textarea type="text" class="form-control" th:field = "*{descr}" th:classappend="${#fields.hasErrors('descr') ? 'is-invalid' : ' '}"></textarea>
								<div class="invalid-feedback" th:if="${#fields.hasErrors('descr')}" th:errors="*{descr}"></div>
							</div>
							<div class="form-group col-md-4">
								<label for="input3">Seleziona uno chef:</label>
								<select class="form-select" th:field="*{chef}">
									<option th:each="chef : ${listaChef}" th:value="${chef.id}" th:text="${chef.nome}+ ' ' +${chef.cognome}"></option>
								</select>
								<span th:if="${#fields.hasErrors('chef.id')}"th:errors="*{chef.id}"></span>
							</div>
						</div>
						<br>
						<div><button class="btn btn-secondary" type = "submit">Conferma</button></div>
						<div th:if="${#fields.hasGlobalErrors()}">
							<br>
							<div class="alert alert-danger alert-dismissible fade show" role="alert">
								<h4 class="alert-heading">Arcipigna!</h4>
								<div th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>

		<div class="container">
            <div th:replace="page-footer :: footer"></div>
        </div>
	</body>
</html>