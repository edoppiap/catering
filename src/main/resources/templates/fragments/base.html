<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="head(titolo)">
        <meta charset="UTF-8" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" 
        crossorigin="anonymous">
        <title th:text="${titolo}"></title>
    </head>
    <body>
        <!--Start navbar-->
        <nav th:fragment="header" class="navbar navbar-expand-lg p-3 sticky-top text-gray" style="background-color: #e3f2fd;">
            <div class="container">
                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                    <a class="d-flex align-items-center mb-2 mb-lg-0 text-decoration-none" href="/">
                        <svg class="bi me-2" width="40" height="48" role="img" aria-label="catering">
                            <path d="M11 39H18.5V26.5H29.5V39H37V19.5L24 9.75L11 19.5ZM11 42Q9.75 42 8.875 41.125Q8 40.25 8 39V19.5Q8 18.8 8.325 18.15Q8.65 17.5 9.2 17.1L22.2 7.35Q22.6 7.05 23.05 6.9Q23.5 6.75 24 6.75Q24.5 6.75 24.95 6.9Q25.4 7.05 25.8 7.35L38.8 17.1Q39.35 17.5 39.675 18.15Q40 18.8 40 19.5V39Q40 40.25 39.125 41.125Q38.25 42 37 42H26.5V29.5H21.5V42ZM24 24.35Z"/>
                        </svg>
                    </a>
                </div>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link px-2 text-secondary" href="/">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link px-2" th:href="@{/users/listaBuffet}" href='#'>Tutti i Buffet</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link px-2" th:href="@{/users/listaChef}" href='#'>Tutti gli Chef</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link px-2" th:href="@{/users/listaPiatti}" href='#'>Tutti i piatti</a>
                        </li>
                    </ul>
                    <div class="text-end" sec:authorize="isAnonymous()">
                        <button type="button" class="btn btn-outline-light me-2" onclick='window.location.href="/login"'>Login</button>
                        <button type="button" class="btn btn-light" onclick='window.location.href="/register"'>Sign up</button>
                    </div>
                    <div class="nav-item dropdown text-end" sec:authorize="isAuthenticated()">
                        <a class="d-block link-dark text-decoration-none dropdown-toggle px-2" id="dropdownUser" data-bs-toggle="dropdown" aria-expanded="true">
                            <span class="px-2 " sec:authentication="name"></span>
                        </a>
                        <ul class="dropdown-menu text-small mx-0 p-2 gap-1 rounded-2" aria-labelledby="dropdownUser" style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 34px);"
                            data-popper-placement="bottom-end">
                            <li><a class="dropdown-item rounded-2" th:href="@{'/users/profilo/'+ ${#authentication.getPrincipal().getUsername()}}">Profilo</a></li>
                            <li><a class="dropdown-item rounded-2" href="#">Preferiti</a></li>
                            <li><hr class="dropdwown-divider"></li>
                            <li sec:authorize="hasAuthority('ADMIN')"><a class="dropdown-item" th:href="@{/admin/chefForm}" href='#'>Inserisci Chef</a></li>
                            <li sec:authorize="hasAuthority('ADMIN')"><a class="dropdown-item" th:href="@{/admin/buffetForm}" href='#'>Inserisci Buffet</a></li>
                            <li sec:authorize="hasAuthority('ADMIN')"><a class="dropdown-item" th:href="@{/admin/piattoForm}" href="#">Inserisci Piatto</a></li>
                            <li sec:authorize="hasAuthority('ADMIN')"><a class="dropdown-item" th:href="@{/admin/ingredienteForm}" href="#">Inserisci Ingrediente</a></li>
                            <li sec:authorize="hasAuthority('ADMIN')"><hr class="dropdwown-divider"></li>
                            <li><a class="dropdown-item rounded-2" href="/logout">Logout</a></li>
                        
                        </ul>
                    </div>
                </div>
            </div>
        </nav>
        <!--End navbar-->

        <section th:fragment="up-section(mainText, minorText)" class="py-5 text-center container">
			<div class="row py-lg-5">
				<div class="col-lg-6 col-md-8 mx-auto">
					<h1 class="fw-light" th:text="${mainText}">Nome Cognome</h1>
					<p class="lead text-muted" th:text="${minorText}">Nazionalita</p>
				</div>
			</div>
		</section>

        <!--Start footer-->
        <footer th:fragment="footer" class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top container">
            <div class="col-md-4 d-flex align-items-center">
                <a class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none" href="/">
                    <svg class="bi me-2" width="40" height="48" role="img" aria-label="catering">
                        <path d="M11 39H18.5V26.5H29.5V39H37V19.5L24 9.75L11 19.5ZM11 42Q9.75 42 8.875 41.125Q8 40.25 8 39V19.5Q8 18.8 8.325 18.15Q8.65 17.5 9.2 17.1L22.2 7.35Q22.6 7.05 23.05 6.9Q23.5 6.75 24 6.75Q24.5 6.75 24.95 6.9Q25.4 7.05 25.8 7.35L38.8 17.1Q39.35 17.5 39.675 18.15Q40 18.8 40 19.5V39Q40 40.25 39.125 41.125Q38.25 42 37 42H26.5V29.5H21.5V42ZM24 24.35Z"/>
                    </svg>
                </a>
                <span>Catering</span>
            </div>
        </footer>
        <!--End footer-->


        <script th:fragment="script" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>